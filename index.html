<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BABA Wallet — Support, FAQ & Legal</title>
  
  <link rel="icon" type="image/png" href="favicon.png">
  
  <link rel="stylesheet" href="style.css">

  
  <meta name="description" content="Support, FAQ, Terms of Use, and Privacy Policy for the BABA Wallet App">
  <style>
    :root {
      --brand-color: #007AFF;
      --background-light: #f8f9fa;
      --background-card: #ffffff;
      --text-primary: #212529;
      --text-secondary: #495057;
      --border-color: #e9ecef;
      --shadow-color: rgba(0, 0, 0, 0.08);
      --animation-speed: 0.3s;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      background-color: var(--background-light);
      color: var(--text-primary);
      margin: 0;
      padding: 40px 20px 80px;
      display: flex;
      justify-content: center;
    }

    .container {
      max-width: 1000px;
      width: 100%;
      background: var(--background-card);
      padding: 40px;
      border-radius: 16px;
      box-shadow: 0 8px 30px var(--shadow-color);
    }

    header.page-header {
      display: flex;
      flex-direction: column;
      gap: 12px;
      margin-bottom: 16px;
    }

    h1 {
      font-size: 2.6em;
      margin: 0;
      background: linear-gradient(45deg, #007AFF, #00C6FF);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .tagline {
      color: var(--text-secondary);
      margin: 0;
    }

    /* Top nav */
    .top-nav {
      position: sticky;
      top: 0;
      background-color: var(--background-card);
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      margin: 20px 0 30px;
      border-bottom: 1px solid var(--border-color);
      padding-bottom: 10px;
      z-index: 10;
    }

    .top-nav a {
      display: inline-block;
      color: var(--brand-color);
      text-decoration: none;
      padding: 10px 14px;
      border-radius: 10px;
      font-weight: 500;
      transition: background-color 0.2s ease, opacity 0.2s ease, font-weight 0.2s ease;
    }

    .top-nav a:hover {
      background-color: rgba(0, 122, 255, 0.08);
      opacity: 0.9;
    }

    .top-nav a.active {
      font-weight: 700;
      background-color: rgba(0, 122, 255, 0.08);
    }

    h2 {
      font-size: 1.9em;
      border-bottom: 1px solid var(--border-color);
      padding-bottom: 10px;
      margin-top: 50px;
      margin-bottom: 25px;
    }

    h3 {
      margin-top: 24px;
      margin-bottom: 10px;
    }

    p, li {
      line-height: 1.8;
      font-size: 1.05em;
      color: var(--text-secondary);
    }

    strong { color: var(--text-primary); }

    a {
      color: var(--brand-color);
      text-decoration: none;
      transition: opacity 0.2s ease;
    }

    a:hover { opacity: 0.7; }

    .contact-box {
      background-color: #f0f7ff;
      border: 1px solid #cce4ff;
      border-radius: 12px;
      padding: 25px;
      margin-top: 20px;
    }

    .contact-box h3 {
      margin-top: 0;
      border-bottom: none;
    }
    
    .important-notice {
        background-color: #fffbe6;
        border: 1px solid #ffe58f;
        border-radius: 12px;
        padding: 20px;
        margin-bottom: 20px;
    }
    .important-notice strong {
        color: #d46b08;
    }

    /* FAQ */
    #faq { margin-top: 20px; }

    details {
      border-bottom: 1px solid var(--border-color);
      padding: 15px 0;
    }

    details:last-of-type { border-bottom: none; }

    summary {
      font-size: 1.15em;
      font-weight: 600;
      cursor: pointer;
      list-style: none;
      display: flex;
      justify-content: space-between;
      align-items: center;
      transition: background-color 0.2s ease;
      padding: 10px;
      border-radius: 8px;
      color: var(--text-primary);
    }

    summary:hover { background-color: #f8f9fa; }

    summary::-webkit-details-marker { display: none; }

    summary::after {
      content: '›';
      font-size: 2em;
      font-weight: bold;
      color: var(--brand-color);
      transform: rotate(90deg);
      transition: transform var(--animation-speed) cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }

    details[open] > summary::after { transform: rotate(270deg); }

    details > div {
      overflow: hidden;
      transition: max-height var(--animation-speed) ease-out;
      max-height: 0; /* Closed by default */
      padding: 0 10px;
    }

    .legal-meta {
      color: #6c757d;
      margin-bottom: 16px;
    }

    .last-updated {
      text-align: center;
      margin-top: 40px;
      color: #aaa;
    }

    /* Cards for sections */
    .section-card {
      background: #fff;
      border: 1px solid var(--border-color);
      border-radius: 12px;
      padding: 24px;
      box-shadow: 0 8px 30px var(--shadow-color);
    }

    .section-card + .section-card {
      margin-top: 24px;
    }

    /* Responsive */
    @media (max-width: 680px) {
      .container { padding: 24px; }
      .top-nav { gap: 6px; }
      .top-nav a { padding: 8px 10px; }
    }
  </style>
</head>
<body>
  <div class="container">
    <header class="page-header">
      <h1>BABA Wallet — Support, FAQ & Legal</h1>
      <p class="tagline">Your guide to common questions, features, troubleshooting, and legal information.</p>
    </header>

    <nav class="top-nav" aria-label="Section navigation">
      <a href="#support">Support</a>
      <a href="#faq">FAQ</a>
      <a href="#terms">Terms of Use</a>
      <a href="#privacy">Privacy Policy</a>
    </nav>

    <section id="support" class="section-card" aria-labelledby="support-title">
      <h2 id="support-title">Support</h2>
      <p>Welcome! We're here to help you get the most out of BABA Wallet.</p>
      
      <div class="important-notice">
        <p><strong>Important:</strong> BABA Wallet is a <strong>non-custodial</strong> cryptocurrency wallet for the Credits blockchain. This means you, and only you, control your private keys and your funds. We cannot access your wallet, recover your keys, or reverse your transactions.</p>
      </div>

      <div class="contact-box" aria-labelledby="contact-title">
        <h3 id="contact-title">Contact Us</h3>
        <p>The best way to get help, provide feedback, or report an issue is through the <strong>App Store support link</strong> on the BABA Wallet App Store page. This ensures your request is routed correctly.</p>
        <p>When contacting support, please include:</p>
        <ul>
            <li>A brief description of the issue.</li>
            <li>Your device model and iOS version.</li>
            <li>The app version number (found on the App Store page).</li>
        </ul>
        <p>For general inquiries, you can also reach us at: <a href="mailto:support@molaanaa.com">support@molaanaa.com</a>.</p>
      </div>
    </section>

    <section id="faq" class="section-card" aria-labelledby="faq-title">
      <h2 id="faq-title">Frequently Asked Questions (FAQ)</h2>

      <details>
        <summary>How do I get started with BABA Wallet?</summary>
        <div>
          <p>You can either create a new wallet or import an existing one.</p>
          <p><strong>To create a new wallet:</strong></p>
          <ol>
            <li>On the welcome screen, tap <strong>“Create New Wallet.”</strong></li>
            <li>A new private key will be generated on your device.</li>
            <li><strong>Important:</strong> Back up your private key immediately. Store it in a secure, offline location. Anyone with this key can access your funds.</li>
          </ol>
          <p><strong>To sign in with an existing wallet:</strong></p>
          <ol>
            <li>Paste your Base58-encoded private key into the “Private Key” field.</li>
            <li>Agree to the terms and tap <strong>“Sign In.”</strong></li>
          </ol>
        </div>
      </details>

      <details>
        <summary>How do I manage multiple accounts?</summary>
        <div>
          <p>You can add, create, rename, and reorder multiple accounts within the app.</p>
          <ul>
            <li><strong>Switch Accounts:</strong> Tap the account title at the top of the Home screen to open the account picker. Select the account you want to use.</li>
            <li><strong>Add or Create:</strong> In the account picker, tap the <strong>“+”</strong> button to add an existing account (with a private key) or create a brand new one.</li>
            <li><strong>Rename & Reorder:</strong> In the account picker, tap <strong>“Edit.”</strong> You can then tap the pencil icon to rename an account or use the up/down arrows to change its order. All names and ordering are saved locally on your device.</li>
          </ul>
        </div>
      </details>

      <details>
        <summary>How do I send and receive funds?</summary>
        <div>
          <p><strong>To send funds:</strong></p>
          <ol>
            <li>Tap the <strong>paper plane icon</strong> on the Home screen.</li>
            <li>Enter the recipient's public key (or scan a QR code), the amount, and an optional memo.</li>
            <li>Adjust the network fee if needed.</li>
            <li>Tap “Send,” review the details, and swipe to confirm. You will be prompted for Face ID, Touch ID, or your device passcode to authorize the transaction.</li>
          </ol>
          <p><strong>To receive funds:</strong></p>
          <ol>
            <li>Tap the <strong>QR code icon</strong> on the Home screen to open your receive sheet.</li>
            <li>Share your public key or the QR code with the sender.</li>
          </ol>
        </div>
      </details>
      
      <details>
        <summary>How does delegation work?</summary>
        <div>
          <p>Delegation allows you to assign staking rights to another account.</p>
          <ol>
            <li>Tap the <strong>3D stack icon</strong> on the Home screen.</li>
            <li>Choose a delegation type (e.g., “Till” to set an expiration date, or “Revoke” to end a delegation).</li>
            <li>Enter the recipient's public key, the amount to delegate, and the network fee.</li>
            <li>Review the details and swipe to confirm, authenticating when prompted.</li>
          </ol>
        </div>
      </details>
      
      <details>
        <summary>How is my private key secured?</summary>
        <div>
          <p>Security is our top priority. The wallet is non-custodial by design.</p>
          <ul>
            <li><strong>On-Device Storage:</strong> Your private key never leaves your device unless you manually export it. We never see it and cannot access it.</li>
            <li><strong>iOS Keychain:</strong> Keys are stored securely in the iOS Keychain with user presence protection. Access requires your Face ID, Touch ID, or device passcode.</li>
            <li><strong>Authentication:</strong> Critical actions like sending funds, delegating, or viewing your private key require authentication. If you cancel the prompt, the action is safely aborted.</li>
          </ul>
        </div>
      </details>
      
      <details>
        <summary>What are some tips for using the wallet safely?</summary>
        <div>
          <ul>
            <li><strong>Back Up Your Key:</strong> Store your private key securely and offline. A hardware password manager or a written copy in a safe place is recommended. Never store it in plain text on a cloud service.</li>
            <li><strong>Never Share Your Key:</strong> Anyone with your private key has full control of your funds. Our support team will NEVER ask for it.</li>
            <li><strong>Verify Addresses:</strong> Double-check recipient addresses before sending. Blockchain transactions are irreversible.</li>
            <li><strong>Keep Software Updated:</strong> Keep your iOS and the BABA Wallet app up to date for the latest security patches.</li>
          </ul>
        </div>
      </details>

      <details>
        <summary>Troubleshooting: "Invalid private key"</summary>
        <div>
          <p>If you see an “Invalid Private Key” error when signing in, please check the following:</p>
          <ul>
            <li>Ensure you have pasted the complete, correct <strong>Base58-encoded</strong> private key.</li>
            <li>Check for and remove any extra spaces or line breaks before or after the key.</li>
            <li>Copy the key directly from your original, trusted backup source.</li>
          </ul>
        </div>
      </details>
      
      <details>
        <summary>Troubleshooting: Authentication or connection issues</summary>
        <div>
          <p><strong>Face ID / Touch ID failed:</strong></p>
          <p>If you cancel the authentication prompt or it fails, the transaction will not proceed. Simply try the action again and complete the authentication when prompted. If biometrics are unavailable, iOS may ask for your device passcode as a fallback.</p>
          <p><strong>No Internet Connection:</strong></p>
          <p>The app needs an internet connection to fetch balances, history, and send transactions. Check your Wi-Fi or cellular connection and try again.</p>
          <p><strong>Balance isn't updating:</strong></p>
          <p>Pull down on the Home screen to refresh, or tap the refresh icon. If the network is busy, the update may be delayed. Try again in a few moments.</p>
        </div>
      </details>

      <details>
        <summary>What are network fees?</summary>
        <div>
          <p>Network fees are required by the Credits blockchain to process transactions. These fees are not collected by the app.</p>
          <ul>
            <li>The send and delegation screens show an estimated fee, which you can edit.</li>
            <li>If your balance is low, you can use the <strong>“Max”</strong> button to automatically calculate the maximum amount you can send after accounting for the fee.</li>
          </ul>
        </div>
      </details>
      
      <details>
        <summary>Is the app accessible?</summary>
        <div>
          <p>We aim to create an inclusive experience. The app includes:</p>
          <ul>
            <li>Clear language and labels for buttons and actions.</li>
            <li>Support for system text sizes and Dynamic Type.</li>
            <li>Haptic and visual feedback for important actions.</li>
          </ul>
          <p>If you rely on assistive technologies and encounter any issues, please use the App Store support link to share your feedback so we can improve.</p>
        </div>
      </details>

      <details>
        <summary>How can I view my private key or sign out?</summary>
        <div>
          <p>Tap the <strong>power icon</strong> on the Home screen to begin the sign-out process. During this flow, you will be given the option to view and copy your private key (after authenticating) to ensure you have it backed up before signing out of the account on that device.</p>
        </div>
      </details>

      <p class="last-updated"><small>Last updated: <time datetime="2025-10-16">October 16, 2025</time></small></p>
    </section>

    <section id="terms" class="section-card" aria-labelledby="terms-title">
      <h2 id="terms-title">Terms of Use</h2>
      <p class="legal-meta"><strong>Effective Date:</strong> October 16, 2025</p>
      <p>Welcome to BABA Wallet, provided by Molaanaa. These Terms of Use govern your access to and use of the App and related services. By accessing or using the Services, you agree to be bound by these Terms. If you do not agree, do not use the Services.</p>

      <h3>1. Eligibility</h3>
      <p>You must be at least the age of majority in your jurisdiction to use the Services. By using the Services, you represent and warrant that you meet this requirement and can enter a binding contract.</p>

      <h3>2. Non‑Custodial Wallet</h3>
      <p>The App is a <strong>non‑custodial</strong> wallet. You control your private keys and are solely responsible for safeguarding them. We do not store, access, or recover your private keys. If you lose your private key or passcode, we cannot help recover your funds.</p>

      <h3>3. No Financial, Investment, or Legal Advice</h3>
      <p>Information provided by the App is for informational purposes only and does not constitute financial, investment, legal, or tax advice. You are solely responsible for your decisions and assume all risks.</p>

      <h3>4. Risks</h3>
      <p>Using blockchain technologies involves risks, including market volatility, smart‑contract vulnerabilities, network congestion or failure, and loss of private keys. You acknowledge and accept these risks. We are not responsible for losses including funds, data, or opportunities.</p>

      <h3>5. Your Responsibilities</h3>
      <ul>
        <li>Safeguard your device, private keys, and any backup phrases or credentials.</li>
        <li>Verify addresses and transaction details before sending.</li>
        <li>Comply with applicable laws and regulations.</li>
        <li>Use the App lawfully and in accordance with these Terms.</li>
      </ul>

      <h3>6. Prohibited Uses</h3>
      <ul>
        <li>Unlawful, fraudulent, or harmful activities.</li>
        <li>Interfering with or disrupting the Services.</li>
        <li>Unauthorized access attempts to the Services or systems.</li>
        <li>Reverse engineering the App, except as permitted by law.</li>
        <li>Infringing or violating others’ rights.</li>
      </ul>

      <h3>7. Fees and Purchases</h3>
      <p>Transactions on the Credits network may incur network fees set by the network, not by us. The App may offer optional premium features or in‑app purchases processed by Apple’s App Store, subject to Apple’s terms. Manage or cancel subscriptions via your device’s Settings &gt; Apple ID &gt; Subscriptions.</p>

      <h3>8. Third‑Party Services</h3>
      <p>The Services may interact with third‑party networks, APIs, or libraries. We do not control and are not responsible for third‑party content, services, or policies. Your use of third‑party services is at your own risk and subject to their terms.</p>

      <h3>9. Intellectual Property</h3>
      <p>The App and its content (excluding your data and third‑party content) are owned by Molaanaa and protected by intellectual property laws. We grant you a limited, non‑exclusive, non‑transferable, revocable license to use the App for personal, lawful purposes under these Terms.</p>

      <h3>10. Disclaimers</h3>
      <p>THE SERVICES ARE PROVIDED “AS IS” AND “AS AVAILABLE” WITHOUT WARRANTIES OF ANY KIND, EXPRESS, IMPLIED, OR STATUTORY, INCLUDING MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON‑INFRINGEMENT. WE DO NOT WARRANT THAT THE SERVICES WILL BE SECURE, ERROR‑FREE, OR UNINTERRUPTED.</p>

      <h3>11. Limitation of Liability</h3>
      <p>TO THE MAXIMUM EXTENT PERMITTED BY LAW, IN NO EVENT WILL Molaanaa OR ITS AFFILIATES, DIRECTORS, OFFICERS, EMPLOYEES, OR AGENTS BE LIABLE FOR ANY INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, EXEMPLARY, OR PUNITIVE DAMAGES, OR ANY LOSS OF PROFITS, DATA, USE, OR GOODWILL, ARISING OUT OF OR RELATED TO YOUR USE OF OR INABILITY TO USE THE SERVICES, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGES.</p>
      <p>OUR TOTAL LIABILITY FOR ANY CLAIMS ARISING OUT OF OR RELATED TO THE SERVICES WILL NOT EXCEED THE GREATER OF (A) THE AMOUNT YOU PAID TO US FOR THE SERVICES IN THE TWELVE (12) MONTHS PRECEDING THE EVENT GIVING RISE TO THE CLAIM, OR (B) USD $50.</p>

      <h3>12. Indemnification</h3>
      <p>You agree to defend, indemnify, and hold harmless Molaanaa and its affiliates, directors, officers, employees, and agents from claims, liabilities, damages, losses, and expenses (including reasonable attorneys’ fees) arising out of your use of the Services, your violation of these Terms, or your violation of any rights of another.</p>

      <h3>13. Termination</h3>
      <p>We may suspend or terminate your access to the Services at any time, with or without cause or notice, including if we believe you have violated these Terms. Upon termination, your right to use the Services will immediately cease.</p>

      <h3>14. Changes to the Services and Terms</h3>
      <p>We may modify or discontinue the Services at any time. We may update these Terms from time to time. If we make material changes, we will update the “Effective Date” or provide notice by other appropriate means. Your continued use constitutes acceptance.</p>

      <h3>15. Governing Law; Dispute Resolution</h3>
      <p>These Terms are governed by the laws of [Governing Jurisdiction], without regard to conflict of law principles. You agree to the exclusive jurisdiction and venue of the courts in [Venue] for disputes arising out of or relating to these Terms or the Services.</p>

      <h3>16. Contact Us</h3>
      <p>Questions about these Terms? Contact us at <a href="mailto:support@molaanaa.com">support@molaanaa.com</a>.</p>

      <p class="last-updated"><small>Last updated: October 16, 2025</small></p>
    </section>

    <section id="privacy" class="section-card" aria-labelledby="privacy-title">
      <h2 id="privacy-title">Privacy Policy</h2>
      <p class="legal-meta"><strong>Effective Date:</strong> October 16, 2025</p>
      <p>This Privacy Policy describes how Molaanaa collects, uses, shares, and protects information in connection with BABA Wallet and related services.</p>

      <h3>1. Summary</h3>
      <ul>
        <li>The App is a <strong>non‑custodial</strong> wallet. Your private keys are generated and stored locally on your device in the secure iOS Keychain. We do not have access to or store your private keys.</li>
        <li>We do not collect personal information. Account names and ordering are saved locally on your device.</li>
        <li>We do not sell your personal information.</li>
        <li>Camera access is requested only for scanning QR codes and is not used otherwise.</li>
      </ul>

      <h3>2. Information We Collect</h3>
      <h4>2.1 Information You Provide</h4>
      <ul>
        <li><strong>Account data (local only):</strong> Optional account names and the account order you set within the App are stored locally on your device. We do not receive this information.</li>
        <li><strong>Support communications:</strong> If you contact us, we may receive your email address, message content, and any other information you choose to provide (e.g., your public key for troubleshooting). Do not send us your private key.</li>
      </ul>

      <h4>2.2 Information Collected Automatically</h4>
      <ul>
        <li><strong>Device and usage data (App):</strong> We may collect limited, anonymous diagnostic information (e.g., crash logs, performance metrics) to maintain and improve the App. This is provided via Apple’s developer tools, subject to your consent and platform controls.</li>
        <li><strong>Network interactions:</strong> To display balances or broadcast transactions, the App communicates with the Credits network. Requests may include your public key, transaction data, and standard network metadata (e.g., IP address) necessary to fulfill the request.</li>
      </ul>

      <h3>3. How We Use Information</h3>
      <ul>
        <li>To operate, maintain, and improve the App and Services.</li>
        <li>To provide customer support and respond to inquiries.</li>
        <li>To monitor performance, troubleshoot issues, and enhance reliability and security.</li>
        <li>To comply with legal obligations and enforce our Terms.</li>
      </ul>

      <h3>4. How We Share Information</h3>
      <ul>
        <li><strong>Service providers:</strong> We may share limited information with vendors performing services on our behalf (e.g., crash analytics), under confidentiality obligations.</li>
        <li><strong>Legal requirements:</strong> We may disclose information if required by law or to protect our rights, safety, or property.</li>
        <li><strong>Business transfers:</strong> In a merger, acquisition, or asset sale, information may be transferred, subject to this Privacy Policy.</li>
      </ul>
      <p>We do not sell your personal information.</p>

      <h3>5. Data Storage and Security</h3>
      <ul>
        <li><strong>Private keys:</strong> Generated and stored locally on your device's secure Keychain. We do not have access to your private keys. You are responsible for backing up your keys securely.</li>
        <li><strong>Local settings:</strong> Account names and ordering are stored locally on your device. Clearing the App or device data will remove this information.</li>
        <li><strong>Security:</strong> We implement reasonable technical and organizational measures to protect information. However, no method of transmission or storage is completely secure.</li>
      </ul>

      <h3>6. Data Retention</h3>
      <p>We retain information as long as necessary to provide the Services and comply with legal obligations. Local device data persists until you delete it or uninstall the App.</p>

      <h3>7. Your Rights and Choices</h3>
      <ul>
        <li><strong>Device settings:</strong> You can control diagnostics sharing via your device/platform settings (e.g., iOS privacy settings). You can manage camera permissions in Settings > Privacy & Security > Camera.</li>
        <li><strong>Access, correction, deletion:</strong> Depending on your location, you may have rights to request access to, correction of, or deletion of information you have provided to us. Contact us at <a href="mailto:support@molaanaa.com">support@molaanaa.com</a>.</li>
      </ul>
      <p>We will not ask for your private key for support. Do not share it with us or anyone else.</p>

      <h3>8. Children’s Privacy</h3>
      <p>The Services are not directed to children under the age of 13 (or the age of digital consent in your jurisdiction). We do not knowingly collect personal information from children.</p>

      <h3>9. International Users</h3>
      <p>If you access the Services from outside your country, information may be processed and stored in jurisdictions with different data protection laws. By using the Services, you consent to such transfers.</p>

      <h3>10. Changes to This Privacy Policy</h3>
      <p>We may update this Privacy Policy from time to time. If we make material changes, we will update the “Effective Date.” Your continued use after changes become effective constitutes acceptance.</p>

      <h3>11. Contact Us</h3>
      <p>Questions about this Privacy Policy? Contact us at <a href="mailto:support@molaanaa.com">support@molaanaa.com</a>.</p>

      <p class="last-updated"><small>Last updated: October 16, 2025</small></p>
    </section>
  </div>

  <script>
    // Accordion Animation for <details>
    document.querySelectorAll('details').forEach(detail => {
      // Set initial max-height for any details element that is open on page load
      if (detail.open) {
        const content = detail.querySelector('div');
        if (content) {
          content.style.maxHeight = content.scrollHeight + 'px';
        }
      }

      const summary = detail.querySelector('summary');
      summary.addEventListener('click', event => {
        event.preventDefault(); // Prevent default toggle to control animation
        const content = detail.querySelector('div');
        if (!content) return;

        if (detail.open) {
          // Animate closed
          content.style.maxHeight = content.scrollHeight + 'px';
          requestAnimationFrame(() => content.style.maxHeight = '0px');
          content.addEventListener('transitionend', () => {
            detail.removeAttribute('open');
          }, { once: true });
        } else {
          // Animate open
          detail.setAttribute('open', '');
          requestAnimationFrame(() => content.style.maxHeight = content.scrollHeight + 'px');
        }
      });
    });

    // Highlight active nav link on scroll using Intersection Observer
    const sections = document.querySelectorAll('section[id]');
    const navLinks = document.querySelectorAll('.top-nav a');
    const observerOptions = {
      root: null, // relative to the viewport
      rootMargin: '-40% 0px -60% 0px', // trigger when section is in the upper-middle of the screen
      threshold: 0
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const id = entry.target.getAttribute('id');
          navLinks.forEach(link => {
            link.classList.toggle('active', link.getAttribute('href') === '#' + id);
          });
        }
      });
    }, observerOptions);

    sections.forEach(section => observer.observe(section));
  </script>
</body>
</html>
